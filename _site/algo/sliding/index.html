<!DOCTYPE html>
<html>

  <head>
    <title>Sliding Window ‚Äì notes ‚Äì bicycle for the mind</title>
  
        <meta charset="utf-8" />
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'>

    
    <meta name="description" content="```
import collections
" />
    <meta property="og:description" content="```
import collections
" />
    
    
    <meta name="author" content="selimslab" />

    
    <meta property="og:title" content="Sliding Window" />
    <meta property="twitter:title" content="Sliding Window" />
    
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/fav/apple-touch-icon.png">
    <link rel="icon" type="image/x-icon" href="/assets/fav/favicon.ico">

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.1/css/bulma.min.css"> -->
    <link rel="stylesheet" type="text/css" href="/static/bulma.css" />
    <link rel="stylesheet" type="text/css" href="/assets/style.css" />
    <link href="/assets/bw.css" rel="stylesheet" >

    <link rel="alternate" type="application/rss+xml" title="notes - bicycle for the mind"
      href="/feed/essais.xml" />
    <link rel="alternate" type="application/rss+xml" title="notes - bicycle for the mind"
      href="/feed/tech.xml" />
  </head>

  

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-WT9QGKVX1Q"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-WT9QGKVX1Q');
</script>






<body>
  <script src="/assets/js/theme.js"></script>

  <div class="top"></div>

  


<nav class="navbar">
    <div class="navbar-brand">
      <!-- <a href="/" class="site-avatar image"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0a/The_Great_Wave_off_Kanagawa.jpg/120px-The_Great_Wave_off_Kanagawa.jpg" /></a> -->
      <a href="/" class="site-name">notes</a>

      <a accesskey="r" onclick="get_random_post();" style="font-size:2rem; float:right; margin-left:3.236rem;">üé≤</a>
      <a id="theme-toggle" onclick="switchTheme()" style="font-size:2rem; float:right; margin-left: 2rem;">üåô</a>
    </div>
</nav>



  <div style="margin-left:1rem">

  <img id="random-img" class="img-full" />
<p id="random-img-alt"></p>

<article>
        

<h1>Sliding Window</h1>



<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre></td><td class="rouge-code"><pre>import collections

def characterReplacement(s:str, k:int):
    counter = collections.Counter()
    start = 0
    longest_window = 0 

    current_window_size = lambda: end-start+1

    for end, c in enumerate(s):
        counter[c] += 1
        count_of_most_freq_char_in_window = counter.most_common(1)[0][1]
        count_of_different_chars_in_window = current_window_size() - count_of_most_freq_char_in_window
        has_enough_replacements = count_of_different_chars_in_window &lt;= k
        if not has_enough_replacements: 
            # shrink_the_window
            counter[s[start]] -= 1
            start += 1
            
        longest_window = max(longest_window, current_window_size())
    return longest_window  

s = "ABAB"
k = 2
assert characterReplacement(s,k) == 4 

s = "AABABBA"
k = 1
assert characterReplacement(s,k) == 4 
</pre></td></tr></tbody></table></code></pre></div></div>

<p><a href="https://leetcode.com/problems/sliding-window-maximum/">https://leetcode.com/problems/sliding-window-maximum/</a></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
</pre></td><td class="rouge-code"><pre>/*
Input: nums = [1,3,-1,-3,5,3,6,7], k = 3
Output: [3,3,5,5,6,7]
Explanation: 
Window position                Max
---------------               -----
[1  3  -1] -3  5  3  6  7       3
 1 [3  -1  -3] 5  3  6  7       3
 1  3 [-1  -3  5] 3  6  7       5
 1  3  -1 [-3  5  3] 6  7       5
 1  3  -1  -3 [5  3  6] 7       6
 1  3  -1  -3  5 [3  6  7]      7
*/

func max(nums ...int) int {
    max := nums[0]
    for _, i := range nums {
        if i &gt; max {
            max = i
        }
    }
    return max
}


func maxSlidingWindow2(nums []int, k int) []int {
    ans := []int{}    
    for i:=0; i&lt;len(nums)-k+1;i++{
        ans = append(ans, max(nums[i:i+k]...))
    }
    return ans 
}


func maxSlidingWindow(nums []int, k int) []int {
	ans := []int{}
	q := make([]int, 0)

	for i := 0; i &lt; len(nums); i++ {
		// if a queue element is less than the new number, pop it 
		for len(q) &gt; 0 &amp;&amp; nums[i] &gt; q[len(q)-1] {
			q = q[:len(q)-1]
		}

		q = append(q, nums[i])

		index_to_exit := i-k+1 // this index will go out of window in the next iteration 
		if index_to_exit &gt;= 0 {
		    ans = append(ans, q[0])
		    // If the greatest element in q is about to exit window, remove it from q
		    if nums[index_to_exit] == q[0] {
			q = q[1:]
		    }
		}
	}
	return ans
}
</pre></td></tr></tbody></table></code></pre></div></div>


<br>

<p style="font-weight:300; font-size:1rem">last edit: Wed, Sep 21, 22</p>



</article>


<script src="/assets/js/random-img.js"></script>




  </div>
  <footer class="footer">
    <a onclick="get_random_post();" style="font-size:2rem;">üé≤</a>    
    <p>Made with ‚ù§Ô∏è by <a href="https://github.com/selimslab">Selim</a></p>
</footer>


  <script src="/assets/js/random-post.js"></script>

  <script>
    if('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js')
      })
    }
  </script>
  

</body>


</html>